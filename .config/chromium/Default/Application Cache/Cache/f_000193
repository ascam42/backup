function initializeAppInsights(){try{if("undefined"!=typeof window&&"undefined"!=typeof JSON){var t="appInsights";if(void 0===window[t])Microsoft.ApplicationInsights.AppInsights.defaultConfig=Microsoft.ApplicationInsights.Initialization.getDefaultConfig();else{var e=window[t]||{},n=new Microsoft.ApplicationInsights.Initialization(e),i=n.loadAppInsights();for(var o in i)e[o]=i[o];n.emptyQueue(),n.pollInteralLogs(i),n.addHousekeepingBeforeUnload(i)}}}catch(r){console.error("Failed to initialize AppInsights JS SDK: "+r.message)}}var Microsoft;!function(t){var e;!function(t){!function(t){t[t.CRITICAL=0]="CRITICAL",t[t.WARNING=1]="WARNING"}(t.LoggingSeverity||(t.LoggingSeverity={}));var e=(t.LoggingSeverity,function(){function t(){}return t.throwInternalNonUserActionable=function(t,e){if(this.enableDebugExceptions())throw e;this.warnToConsole(e),this.logInternalMessage(t,this.AiNonUserActionablePrefix+e)},t.throwInternalUserActionable=function(t,e){if(this.enableDebugExceptions())throw e;this.warnToConsole(e),this.logInternalMessage(t,this.AiUserActionablePrefix+e)},t.warnToConsole=function(t){"undefined"!=typeof console&&console&&("function"==typeof console.warn?console.warn(t):"function"==typeof console.log&&console.log(t))},t.resetInternalMessageCount=function(){this._messageCount=0},t.setMaxInternalMessageLimit=function(t){if(!t)throw new Error("limit cannot be undefined.");this.MAX_INTERNAL_MESSAGE_LIMIT=t},t.logInternalMessage=function(t,e){if(!this._areInternalMessagesThrottled()&&((this.verboseLogging()||0===t)&&(this.queue.push(e),this._messageCount++),this._messageCount==this.MAX_INTERNAL_MESSAGE_LIMIT)){var n=this.AiNonUserActionablePrefix+"Internal events throttle limit per PageView reached for this app.";this.queue.push(n),this.warnToConsole(n)}},t._areInternalMessagesThrottled=function(){return this._messageCount>=this.MAX_INTERNAL_MESSAGE_LIMIT},t.AiUserActionablePrefix="AI: ",t.AiNonUserActionablePrefix="AI (Internal): ",t.enableDebugExceptions=function(){return!1},t.verboseLogging=function(){return!1},t.queue=[],t.MAX_INTERNAL_MESSAGE_LIMIT=25,t._messageCount=0,t}());t._InternalLogging=e}(e=t.ApplicationInsights||(t.ApplicationInsights={}))}(Microsoft||(Microsoft={}));var Microsoft;!function(t){var e;!function(t){var e=function(){function e(){}return e._getStorageObject=function(){try{return window.localStorage?window.localStorage:null}catch(t){return console.warn("Failed to get client localStorage: "+t.message),null}},e.canUseLocalStorage=function(){return!!e._getStorageObject()},e.getStorage=function(n){var i=e._getStorageObject();if(null!==i)try{return i.getItem(n)}catch(o){t._InternalLogging.throwInternalNonUserActionable(0,"Browser failed read of local storage.")}return null},e.setStorage=function(n,i){var o=e._getStorageObject();if(null!==o)try{return o.setItem(n,i),!0}catch(r){t._InternalLogging.throwInternalNonUserActionable(0,"Browser failed write to local storage.")}return!1},e.removeStorage=function(n){var i=e._getStorageObject();if(null!==i)try{return i.removeItem(n),!0}catch(o){t._InternalLogging.throwInternalNonUserActionable(0,"Browser failed removal of local storage item.")}return!1},e.setCookie=function(t,n){e.document.cookie=t+"="+n+";path=/"},e.stringToBoolOrDefault=function(t){return t?"true"===t.toString().toLowerCase():!1},e.getCookie=function(t){var n="";if(t&&t.length)for(var i=t+"=",o=e.document.cookie.split(";"),r=0;r<o.length;r++){var a=o[r];if(a=e.trim(a),a&&0===a.indexOf(i)){n=a.substring(i.length,o[r].length);break}}return n},e.deleteCookie=function(t){e.document.cookie=t+"=;path=/;expires=Thu, 01 Jan 1970 00:00:01 GMT;"},e.trim=function(t){return"string"!=typeof t?t:t.replace(/^\s+|\s+$/g,"")},e.newGuid=function(){for(var t,e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F"],n="",i=0;4>i;i++)t=4294967296*Math.random()|0,n+=e[15&t]+e[t>>4&15]+e[t>>8&15]+e[t>>12&15]+e[t>>16&15]+e[t>>20&15]+e[t>>24&15]+e[t>>28&15];var o=e[8+4*Math.random()|0];return n.substr(0,8)+"-"+n.substr(9,4)+"-4"+n.substr(13,3)+"-"+o+n.substr(16,3)+"-"+n.substr(19,12)},e.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)},e.isError=function(t){return"[object Error]"===Object.prototype.toString.call(t)},e.isDate=function(t){return"[object Date]"===Object.prototype.toString.call(t)},e.toISOStringForIE8=function(t){function n(t){var e=String(t);return 1===e.length&&(e="0"+e),e}return e.isDate(t)?Date.prototype.toISOString?t.toISOString():t.getUTCFullYear()+"-"+n(t.getUTCMonth()+1)+"-"+n(t.getUTCDate())+"T"+n(t.getUTCHours())+":"+n(t.getUTCMinutes())+":"+n(t.getUTCSeconds())+"."+String((t.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z":void 0},e.msToTimeSpan=function(t){(isNaN(t)||0>t)&&(t=0);var e=""+t%1e3,n=""+Math.floor(t/1e3)%60,i=""+Math.floor(t/6e4)%60,o=""+Math.floor(t/36e5)%24;return e=1===e.length?"00"+e:2===e.length?"0"+e:e,n=n.length<2?"0"+n:n,i=i.length<2?"0"+i:i,o=o.length<2?"0"+o:o,o+":"+i+":"+n+"."+e},e.isCrossOriginError=function(t,e,n,i,o){return("Script error."==t||"Script error"==t)&&""==e&&0==n&&0==i&&null==o},e.dump=function(t){var e=Object.prototype.toString.call(t),n=JSON.stringify(t);return"[object Error]"===e&&(n="{ stack: '"+t.stack+"', message: '"+t.message+"', name: '"+t.name+"'"),e+n},e.addEventHandler=function(t,e){if(!window||"string"!=typeof t||"function"!=typeof e)return!1;var n="on"+t;if(window.addEventListener)window.addEventListener(t,e,!1);else{if(!window.attachEvent)return!1;window.attachEvent(n,e)}return!0},e.document="undefined"!=typeof document?document:{},e.NotSpecified="not_specified",e}();t.Util=e}(e=t.ApplicationInsights||(t.ApplicationInsights={}))}(Microsoft||(Microsoft={}));var Microsoft;!function(t){var e;!function(t){"use strict";var e=function(){function e(){}return e.serialize=function(t){var n=e._serializeObject(t,"root");return JSON.stringify(n)},e._serializeObject=function(n,i){var o="__aiCircularRefCheck",r={};if(!n)return t._InternalLogging.throwInternalUserActionable(0,"cannot serialize "+i+" because it is null or undefined"),r;if(n[o])return t._InternalLogging.throwInternalUserActionable(1,"Circular reference detected while serializing: '"+i),r;if(!n.aiDataContract){if("measurements"===i)r=e._serializeStringMap(n,"number",i);else if("properties"===i)r=e._serializeStringMap(n,"string",i);else if("tags"===i)r=e._serializeStringMap(n,"string",i);else if(t.Util.isArray(n))r=e._serializeArray(n,i);else{t._InternalLogging.throwInternalUserActionable(1,"Attempting to serialize an object which does not implement ISerializable: "+i);try{JSON.stringify(n),r=n}catch(a){t._InternalLogging.throwInternalUserActionable(0,a&&"function"==typeof a.toString?a.toString():"Error serializing object")}}return r}n[o]=!0;for(var s in n.aiDataContract){var c=n.aiDataContract[s],l="boolean"!=typeof c,u=void 0!==n[s],p="object"==typeof n[s]&&null!==n[s];if(!c||u||l){var f;f=p?l?e._serializeArray(n[s],s):e._serializeObject(n[s],s):n[s],void 0!==f&&(r[s]=f)}else t._InternalLogging.throwInternalNonUserActionable(0,"Missing required field specification: The field '"+s+"' on '"+i+"' is required but not present on source")}return delete n[o],r},e._serializeArray=function(n,i){var o=void 0;if(n)if(t.Util.isArray(n)){o=[];for(var r=0;r<n.length;r++){var a=n[r],s=e._serializeObject(a,i+"["+r+"]");o.push(s)}}else t._InternalLogging.throwInternalUserActionable(0,"This field was specified as an array in the contract but the item is not an array.\r\n"+i);return o},e._serializeStringMap=function(e,n,i){var o=void 0;if(e){o={};for(var r in e){var a=e[r];if("string"===n)o[r]=void 0===a?"undefined":null===a?"null":a.toString?a.toString():"invalid field: toString() is not defined.";else if("number"===n)if(void 0===a)o[r]="undefined";else if(null===a)o[r]="null";else{var s=parseFloat(a);o[r]=isNaN(s)?"NaN":s}else o[r]="invalid field: "+i+" is of unknown type.",t._InternalLogging.throwInternalUserActionable(0,o[r])}}return o},e}();t.Serializer=e}(e=t.ApplicationInsights||(t.ApplicationInsights={}))}(Microsoft||(Microsoft={}));var Microsoft;!function(t){var e;!function(t){"use strict";var e=function(){function t(){}return t}();t.Base=e}(e=t.Telemetry||(t.Telemetry={}))}(Microsoft||(Microsoft={}));var Microsoft;!function(t){var e;!function(t){"use strict";var e=function(){function t(){this.ver=1,this.sampleRate=100,this.tags={}}return t}();t.Envelope=e}(e=t.Telemetry||(t.Telemetry={}))}(Microsoft||(Microsoft={}));var __extends=this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n},Microsoft;!function(t){var e;!function(e){var n;!function(n){var i;!function(n){"use strict";var i=function(t){function n(n,i){t.call(this),this.name=i,this.data=n,this.time=e.Util.toISOStringForIE8(new Date),this.aiDataContract={time:!0,iKey:!0,name:!0,tags:!0,data:!0}}return __extends(n,t),n}(t.Telemetry.Envelope);n.Envelope=i}(i=n.Common||(n.Common={}))}(n=e.Telemetry||(e.Telemetry={}))}(e=t.ApplicationInsights||(t.ApplicationInsights={}))}(Microsoft||(Microsoft={}));var Microsoft;!function(t){var e;!function(e){var n;!function(e){var n;!function(e){"use strict";var n=function(t){function e(){t.apply(this,arguments),this.aiDataContract={}}return __extends(e,t),e}(t.Telemetry.Base);e.Base=n}(n=e.Common||(e.Common={}))}(n=e.Telemetry||(e.Telemetry={}))}(e=t.ApplicationInsights||(t.ApplicationInsights={}))}(Microsoft||(Microsoft={}));var AI;!function(t){"use strict";var e=function(){function t(){this.applicationVersion="ai.application.ver",this.applicationBuild="ai.application.build",this.applicationTypeId="ai.application.typeId",this.deviceId="ai.device.id",this.deviceIp="ai.device.ip",this.deviceLanguage="ai.device.language",this.deviceLocale="ai.device.locale",this.deviceModel="ai.device.model",this.deviceNetwork="ai.device.network",this.deviceNetworkName="ai.device.networkName",this.deviceOEMName="ai.device.oemName",this.deviceOS="ai.device.os",this.deviceOSVersion="ai.device.osVersion",this.deviceRoleInstance="ai.device.roleInstance",this.deviceRoleName="ai.device.roleName",this.deviceScreenResolution="ai.device.screenResolution",this.deviceType="ai.device.type",this.deviceMachineName="ai.device.machineName",this.deviceVMName="ai.device.vmName",this.locationIp="ai.location.ip",this.operationId="ai.operation.id",this.operationName="ai.operation.name",this.operationParentId="ai.operation.parentId",this.operationRootId="ai.operation.rootId",this.operationSyntheticSource="ai.operation.syntheticSource",this.operationIsSynthetic="ai.operation.isSynthetic",this.sessionId="ai.session.id",this.sessionIsFirst="ai.session.isFirst",this.sessionIsNew="ai.session.isNew",this.userAccountAcquisitionDate="ai.user.accountAcquisitionDate",this.userAccountId="ai.user.accountId",this.userAgent="ai.user.userAgent",this.userId="ai.user.id",this.userStoreRegion="ai.user.storeRegion",this.userAuthUserId="ai.user.authUserId",this.userAnonymousUserAcquisitionDate="ai.user.anonUserAcquisitionDate",this.userAuthenticatedUserAcquisitionDate="ai.user.authUserAcquisitionDate",this.sampleRate="ai.sample.sampleRate",this.internalSdkVersion="ai.internal.sdkVersion",this.internalAgentVersion="ai.internal.agentVersion",this.internalDataCollectorReceivedTime="ai.internal.dataCollectorReceivedTime",this.internalProfileId="ai.internal.profileId",this.internalProfileClassId="ai.internal.profileClassId",this.internalAccountId="ai.internal.accountId",this.internalApplicationName="ai.internal.applicationName",this.internalInstrumentationKey="ai.internal.instrumentationKey",this.internalTelemetryItemId="ai.internal.telemetryItemId",this.internalApplicationType="ai.internal.applicationType",this.internalRequestSource="ai.internal.requestSource",this.internalFlowType="ai.internal.flowType",this.internalIsAudit="ai.internal.isAudit",this.internalTrackingSourceId="ai.internal.trackingSourceId",this.internalTrackingType="ai.internal.trackingType"}return t}();t.ContextTagKeys=e}(AI||(AI={}));var Microsoft;!function(t){var e;!function(t){var e;!function(t){"use strict";var e=function(){function t(){}return t}();t.Application=e}(e=t.Context||(t.Context={}))}(e=t.ApplicationInsights||(t.ApplicationInsights={}))}(Microsoft||(Microsoft={}));var Microsoft;!function(t){var e;!function(t){var e;!function(t){"use strict";var e=function(){function t(){this.id="browser","undefined"!=typeof screen&&screen.width&&screen.height&&(this.resolution=screen.width+"X"+screen.height),this.locale="undefined"!=typeof screen&&navigator.browserLanguage?navigator.browserLanguage:"unknown"}return t}();t.Device=e}(e=t.Context||(t.Context={}))}(e=t.ApplicationInsights||(t.ApplicationInsights={}))}(Microsoft||(Microsoft={}));var Microsoft;!function(t){var e;!function(t){var e;!function(e){"use strict";var n=function(){function e(){this.sdkVersion="JavaScript:"+t.Version}return e}();e.Internal=n}(e=t.Context||(t.Context={}))}(e=t.ApplicationInsights||(t.ApplicationInsights={}))}(Microsoft||(Microsoft={}));var Microsoft;!function(t){var e;!function(t){var e;!function(t){"use strict";var e=function(){function t(){}return t}();t.Location=e}(e=t.Context||(t.Context={}))}(e=t.ApplicationInsights||(t.ApplicationInsights={}))}(Microsoft||(Microsoft={}));var Microsoft;!function(t){var e;!function(t){var e;!function(e){"use strict";var n=function(){function e(){this.id=t.Util.newGuid()}return e}();e.Operation=n}(e=t.Context||(t.Context={}))}(e=t.ApplicationInsights||(t.ApplicationInsights={}))}(Microsoft||(Microsoft={}));var Microsoft;!function(t){var e;!function(t){var e;!function(t){"use strict";var e=function(){function t(){}return t}();t.Sample=e}(e=t.Context||(t.Context={}))}(e=t.ApplicationInsights||(t.ApplicationInsights={}))}(Microsoft||(Microsoft={}));var AI;!function(t){"use strict";!function(t){t[t.Start=0]="Start",t[t.End=1]="End"}(t.SessionState||(t.SessionState={}));t.SessionState}(AI||(AI={}));var Microsoft;!function(t){var e;!function(t){var e;!function(e){"use strict";var n=function(){function t(){}return t}();e.Session=n;var i=function(){function e(t,i){t||(t={}),"function"!=typeof t.sessionExpirationMs&&(t.sessionExpirationMs=function(){return e.acquisitionSpan}),"function"!=typeof t.sessionRenewalMs&&(t.sessionRenewalMs=function(){return e.renewalSpan}),this.config=t,this._sessionHandler=i,this.automaticSession=new n}return e.prototype.update=function(){this.automaticSession.id||this.initializeAutomaticSession();var t=+new Date,e=t-this.automaticSession.acquisitionDate>this.config.sessionExpirationMs(),n=t-this.automaticSession.renewalDate>this.config.sessionRenewalMs();e||n?("function"==typeof this._sessionHandler&&this._sessionHandler(1,this.automaticSession.renewalDate),this.automaticSession.isFirst=void 0,this.renew()):(this.automaticSession.renewalDate=+new Date,this.setCookie(this.automaticSession.id,this.automaticSession.acquisitionDate,this.automaticSession.renewalDate))},e.prototype.backup=function(){this.setStorage(this.automaticSession.id,this.automaticSession.acquisitionDate,this.automaticSession.renewalDate)},e.prototype.initializeAutomaticSession=function(){var e=t.Util.getCookie("ai_session");if(e&&"function"==typeof e.split)this.initializeAutomaticSessionWithData(e);else{var n=t.Util.getStorage("ai_session");n&&this.initializeAutomaticSessionWithData(n)}this.automaticSession.id||(this.automaticSession.isFirst=!0,this.renew())},e.prototype.initializeAutomaticSessionWithData=function(e){var n=e.split("|");n.length>0&&(this.automaticSession.id=n[0]);try{if(n.length>1){var i=+n[1];this.automaticSession.acquisitionDate=+new Date(i),this.automaticSession.acquisitionDate=this.automaticSession.acquisitionDate>0?this.automaticSession.acquisitionDate:0}if(n.length>2){var o=+n[2];this.automaticSession.renewalDate=+new Date(o),this.automaticSession.renewalDate=this.automaticSession.renewalDate>0?this.automaticSession.renewalDate:0}}catch(r){t._InternalLogging.throwInternalNonUserActionable(0,"Error parsing ai_session cookie, session will be reset: "+t.Util.dump(r))}0==this.automaticSession.renewalDate&&t._InternalLogging.throwInternalNonUserActionable(1,"AI session renewal date is 0, session will be reset.")},e.prototype.renew=function(){var e=+new Date;this.automaticSession.id=t.Util.newGuid(),this.automaticSession.acquisitionDate=e,this.automaticSession.renewalDate=e,this.setCookie(this.automaticSession.id,this.automaticSession.acquisitionDate,this.automaticSession.renewalDate),"function"==typeof this._sessionHandler&&this._sessionHandler(0,e),t.Util.canUseLocalStorage()||t._InternalLogging.throwInternalNonUserActionable(0,"Browser does not support local storage. Session durations will be inaccurate.")},e.prototype.setCookie=function(e,n,i){var o=n+this.config.sessionExpirationMs(),r=i+this.config.sessionRenewalMs(),a=new Date,s=[e,n,i];a.setTime(r>o?o:r),t.Util.setCookie("ai_session",s.join("|")+";expires="+a.toUTCString())},e.prototype.setStorage=function(e,n,i){t.Util.setStorage("ai_session",[e,n,i].join("|"))},e.acquisitionSpan=864e5,e.renewalSpan=18e5,e}();e._SessionManager=i}(e=t.Context||(t.Context={}))}(e=t.ApplicationInsights||(t.ApplicationInsights={}))}(Microsoft||(Microsoft={}));var Microsoft;!function(t){var e;!function(t){var e;!function(e){"use strict";var n=function(){function e(n){var i=t.Util.getCookie(e.userCookieName);if(i){var o=i.split(e.cookieSeparator);o.length>0&&(this.id=o[0])}if(!this.id){this.id=t.Util.newGuid();var r=new Date,a=t.Util.toISOStringForIE8(r);this.accountAcquisitionDate=a,r.setTime(r.getTime()+31536e6);var s=[this.id,a];t.Util.setCookie(e.userCookieName,s.join(e.cookieSeparator)+";expires="+r.toUTCString()),t.Util.removeStorage("ai_session")}this.accountId=n;var c=t.Util.getCookie(e.authUserCookieName);if(c){c=decodeURI(c);var l=c.split(e.cookieSeparator);l[0]&&(this.authenticatedId=l[0]),l.length>1&&l[1]&&(this.accountId=l[1])}}return e.prototype.setAuthenticatedUserContext=function(n,i){var o=!this.validateUserInput(n)||i&&!this.validateUserInput(i);if(o)return void t._InternalLogging.throwInternalUserActionable(1,"Setting auth user context failed. User auth/account id should be of type string, and not contain commas, semi-colons, equal signs, spaces, or vertical-bars.");this.authenticatedId=n;var r=this.authenticatedId;i&&(this.accountId=i,r=[this.authenticatedId,this.accountId].join(e.cookieSeparator)),t.Util.setCookie(e.authUserCookieName,encodeURI(r))},e.prototype.clearAuthenticatedUserContext=function(){this.authenticatedId=null,this.accountId=null,t.Util.deleteCookie(e.authUserCookieName)},e.prototype.validateUserInput=function(t){return"string"!=typeof t||!t||t.match(/,|;|=| |\|/)?!1:!0},e.cookieSeparator="|",e.userCookieName="ai_user",e.authUserCookieName="ai_authUser",e}();e.User=n}(e=t.Context||(t.Context={}))}(e=t.ApplicationInsights||(t.ApplicationInsights={}))}(Microsoft||(Microsoft={}));var Microsoft;!function(t){var e;!function(t){"use strict";var e=function(){function e(t){if(this._buffer=[],this._lastSend=0,this._config=t,this._sender=null,"undefined"!=typeof XMLHttpRequest){var e=new XMLHttpRequest;"withCredentials"in e?this._sender=this._xhrSender:"undefined"!=typeof XDomainRequest&&(this._sender=this._xdrSender)}}return e.prototype.send=function(e){var n=this;try{if(this._config.disableTelemetry())return;if(!e)return void t._InternalLogging.throwInternalNonUserActionable(0,"Cannot send empty telemetry");if(!this._sender)return void t._InternalLogging.throwInternalNonUserActionable(0,"Sender was not initialized");var i=t.Serializer.serialize(e);this._getSizeInBytes(this._buffer)+i.length>this._config.maxBatchSizeInBytes()&&this.triggerSend(),this._buffer.push(i),this._timeoutHandle||(this._timeoutHandle=setTimeout(function(){n._timeoutHandle=null,n.triggerSend()},this._config.maxBatchInterval()))}catch(o){t._InternalLogging.throwInternalNonUserActionable(0,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+t.Util.dump(o))}},e.prototype._getSizeInBytes=function(t){var e=0;if(t&&t.length)for(var n=0;n<t.length;n++){var i=t[n];i&&i.length&&(e+=i.length)}return e},e.prototype.triggerSend=function(e){var n=!0;"boolean"==typeof e&&(n=e);try{if(!this._config.disableTelemetry()){if(this._buffer.length){var i=this._config.emitLineDelimitedJson()?this._buffer.join("\n"):"["+this._buffer.join(",")+"]";this._sender(i,n)}this._lastSend=+new Date}this._buffer.length=0,clearTimeout(this._timeoutHandle),this._timeoutHandle=null}catch(o){t._InternalLogging.throwInternalNonUserActionable(0,"Telemetry transmission failed, some telemetry will be lost: "+t.Util.dump(o))}},e.prototype._xhrSender=function(t,n){var i=new XMLHttpRequest;i.open("POST",this._config.endpointUrl(),n),i.setRequestHeader("Content-type","application/json"),i.onreadystatechange=function(){return e._xhrReadyStateChange(i,t)},i.onerror=function(n){return e._onError(t,i.responseText||i.response||"",n)},i.send(t)},e.prototype._xdrSender=function(t){var n=new XDomainRequest;n.onload=function(){return e._xdrOnLoad(n,t)},n.onerror=function(i){return e._onError(t,n.responseText||"",i)},n.open("POST",this._config.endpointUrl()),n.send(t)},e._xhrReadyStateChange=function(t,n){4===t.readyState&&((t.status<200||t.status>=300)&&0!==t.status?e._onError(n,t.responseText||t.response||""):e._onSuccess(n))},e._xdrOnLoad=function(t,n){!t||t.responseText+""!="200"&&""!==t.responseText?e._onError(n,t&&t.responseText||""):e._onSuccess(n)},e._onError=function(e,n){t._InternalLogging.throwInternalNonUserActionable(1,"Failed to send telemetry:\n"+n)},e._onSuccess=function(){},e}();t.Sender=e}(e=t.ApplicationInsights||(t.ApplicationInsights={}))}(Microsoft||(Microsoft={}));var Microsoft;!function(t){var e;!function(t){"use strict";var e=function(){function t(){}return t}();t.Domain=e}(e=t.Telemetry||(t.Telemetry={}))}(Microsoft||(Microsoft={}));var AI;!function(t){"use strict";!function(t){t[t.Verbose=0]="Verbose",t[t.Information=1]="Information",t[t.Warning=2]="Warning",t[t.Error=3]="Error",t[t.Critical=4]="Critical"}(t.SeverityLevel||(t.SeverityLevel={}));t.SeverityLevel}(AI||(AI={}));var AI;!function(t){"use strict";var e=function(t){function e(){this.ver=2,this.properties={},t.call(this)}return __extends(e,t),e}(Microsoft.Telemetry.Domain);t.MessageData=e}(AI||(AI={}));var Microsoft;!function(t){var e;!function(t){var e;!function(e){var n;!function(e){"use strict";var n=function(){function e(){}return e.sanitizeKeyAndAddUniqueness=function(t,n){var i=t.length,o=e.sanitizeKey(t);if(o.length!==i){for(var r=0,a=o;void 0!==n[a];)r++,a=o.substring(0,e.MAX_NAME_LENGTH-3)+e.padNumber(r);o=a}return o},e.sanitizeKey=function(n){return n&&(n=t.Util.trim(n.toString()),n.search(/[^0-9a-zA-Z-._()\/ ]/g)>=0&&(n=n.replace(/[^0-9a-zA-Z-._()\/ ]/g,"_"),t._InternalLogging.throwInternalUserActionable(1,"name contains illegal characters. Illgeal character have been replaced with '_'. new name: "+n)),n.length>e.MAX_NAME_LENGTH&&(n=n.substring(0,e.MAX_NAME_LENGTH),t._InternalLogging.throwInternalUserActionable(1,"name is too long.  It has been truncated to "+e.MAX_NAME_LENGTH+" characters.  name: "+n))),n},e.sanitizeString=function(n){return n&&(n=t.Util.trim(n),n.toString().length>e.MAX_STRING_LENGTH&&(n=n.substring(0,e.MAX_STRING_LENGTH),t._InternalLogging.throwInternalUserActionable(1,"string value is too long. It has been truncated to "+e.MAX_STRING_LENGTH+" characters. value: "+n))),n},e.sanitizeUrl=function(n){return n&&n.length>e.MAX_URL_LENGTH&&(n=n.substring(0,e.MAX_URL_LENGTH),t._InternalLogging.throwInternalUserActionable(1,"url is too long, it has been trucated to "+e.MAX_URL_LENGTH+" characters. url: "+n)),n},e.sanitizeMessage=function(n){return n&&n.length>e.MAX_MESSAGE_LENGTH&&(n=n.substring(0,e.MAX_MESSAGE_LENGTH),t._InternalLogging.throwInternalUserActionable(1,"message is too long, it has been trucated to "+e.MAX_MESSAGE_LENGTH+" characters.  message: "+n)),n},e.sanitizeException=function(n){return n&&n.length>e.MAX_EXCEPTION_LENGTH&&(n=n.substring(0,e.MAX_EXCEPTION_LENGTH),t._InternalLogging.throwInternalUserActionable(1,"exception is too long, iit has been trucated to "+e.MAX_EXCEPTION_LENGTH+" characters.  exception: "+n)),n},e.sanitizeProperties=function(t){if(t){var n={};for(var i in t){var o=e.sanitizeString(t[i]);i=e.sanitizeKeyAndAddUniqueness(i,n),n[i]=o}t=n}return t},e.sanitizeMeasurements=function(t){if(t){var n={};for(var i in t){var o=t[i];i=e.sanitizeKeyAndAddUniqueness(i,n),n[i]=o}t=n}return t},e.padNumber=function(t){var e="00"+t;return e.substr(e.length-3)},e.MAX_NAME_LENGTH=150,e.MAX_STRING_LENGTH=1024,e.MAX_URL_LENGTH=2048,e.MAX_MESSAGE_LENGTH=32768,e.MAX_EXCEPTION_LENGTH=32768,e}();e.DataSanitizer=n}(n=e.Common||(e.Common={}))}(e=t.Telemetry||(t.Telemetry={}))}(e=t.ApplicationInsights||(t.ApplicationInsights={}))}(Microsoft||(Microsoft={}));var Microsoft;!function(t){var e;!function(t){var e;!function(e){"use strict";var n=function(n){function i(i,o){n.call(this),this.aiDataContract={ver:!0,message:!0,severityLevel:!1,measurements:!1,properties:!1},i=i||t.Util.NotSpecified,this.message=e.Common.DataSanitizer.sanitizeMessage(i),this.properties=e.Common.DataSanitizer.sanitizeProperties(o)}return __extends(i,n),i.envelopeType="Microsoft.ApplicationInsights.Message",i.dataType="MessageData",i}(AI.MessageData);e.Trace=n}(e=t.Telemetry||(t.Telemetry={}))}(e=t.ApplicationInsights||(t.ApplicationInsights={}))}(Microsoft||(Microsoft={}));var AI;!function(t){"use strict";var e=function(t){function e(){this.ver=2,this.properties={},this.measurements={},t.call(this)}return __extends(e,t),e}(Microsoft.Telemetry.Domain);t.EventData=e}(AI||(AI={}));var Microsoft;!function(t){var e;!function(t){var e;!function(e){"use strict";var n=function(e){function n(n,i,o){e.call(this),this.aiDataContract={ver:!0,name:!0,properties:!1,measurements:!1},this.name=t.Telemetry.Common.DataSanitizer.sanitizeString(n),this.properties=t.Telemetry.Common.DataSanitizer.sanitizeProperties(i),this.measurements=t.Telemetry.Common.DataSanitizer.sanitizeMeasurements(o)}return __extends(n,e),n.envelopeType="Microsoft.ApplicationInsights.Event",n.dataType="EventData",n}(AI.EventData);e.Event=n}(e=t.Telemetry||(t.Telemetry={}))}(e=t.ApplicationInsights||(t.ApplicationInsights={}))}(Microsoft||(Microsoft={}));var AI;!function(t){"use strict";var e=function(){function t(){this.hasFullStack=!0,this.parsedStack=[]}return t}();t.ExceptionDetails=e}(AI||(AI={}));var AI;!function(t){"use strict";var e=function(t){function e(){this.ver=2,this.exceptions=[],this.properties={},this.measurements={},t.call(this)}return __extends(e,t),e}(Microsoft.Telemetry.Domain);t.ExceptionData=e}(AI||(AI={}));var AI;!function(t){"use strict";var e=function(){function t(){}return t}();t.StackFrame=e}(AI||(AI={}));var Microsoft;!function(t){var e;!function(t){var e;!function(e){"use strict";var n=function(n){function o(e,o,r,a){n.call(this),this.aiDataContract={ver:!0,handledAt:!0,exceptions:!0,severityLevel:!1,properties:!1,measurements:!1},this.properties=t.Telemetry.Common.DataSanitizer.sanitizeProperties(r),this.measurements=t.Telemetry.Common.DataSanitizer.sanitizeMeasurements(a),this.handledAt=o||"unhandled",this.exceptions=[new i(e)]}return __extends(o,n),o.CreateSimpleException=function(t,n,i,o,r,a,s){var c;try{throw new Error}catch(l){c=new e.Exception(l)}var u=c.exceptions[0].parsedStack[0];u.assembly=i,u.fileName=o,u.level=0,u.line=a,u.method="unknown";var p=c.exceptions[0];return p.hasFullStack=!0,p.message=t,p.parsedStack=null,p.stack=r,p.typeName=n,c.handledAt=s||"unhandled",c},o.envelopeType="Microsoft.ApplicationInsights.Exception",o.dataType="ExceptionData",o}(AI.ExceptionData);e.Exception=n;var i=function(n){function i(i){n.call(this),this.aiDataContract={id:!1,outerId:!1,typeName:!0,message:!0,hasFullStack:!1,stack:!1,parsedStack:[]},this.typeName=e.Common.DataSanitizer.sanitizeString(i.name||t.Util.NotSpecified),this.message=e.Common.DataSanitizer.sanitizeMessage(i.message||t.Util.NotSpecified);var o=i.stack;this.parsedStack=this.parseStack(o),this.stack=e.Common.DataSanitizer.sanitizeException(o),this.hasFullStack=t.Util.isArray(this.parsedStack)&&this.parsedStack.length>0}return __extends(i,n),i.prototype.parseStack=function(t){var e=void 0;if("string"==typeof t){var n=t.split("\n");e=[];for(var i=0,r=0,a=0;a<=n.length;a++){var s=n[a];if(o.regex.test(s)){var c=new o(n[a],i++);r+=c.sizeInBytes,e.push(c)}}var l=32768;if(r>l)for(var u=0,p=e.length-1,f=0,g=u,h=p;p>u;){var d=e[u].sizeInBytes,m=e[p].sizeInBytes;if(f+=d+m,f>l){var v=h-g+1;e.splice(g,v);break}g=u,h=p,u++,p--}}return e},i}(AI.ExceptionDetails),o=function(e){function n(i,o){e.call(this),this.sizeInBytes=0,this.aiDataContract={level:!0,method:!0,assembly:!1,fileName:!1,line:!1},this.level=o,this.method="unavailable",this.assembly=t.Util.trim(i);var r=i.match(n.regex);r&&r.length>=5&&(this.method=t.Util.trim(r[2]),this.fileName=t.Util.trim(r[4]),this.line=parseInt(r[5])||0),this.sizeInBytes+=this.method.length,this.sizeInBytes+=this.fileName.length,this.sizeInBytes+=this.assembly.length,this.sizeInBytes+=n.baseSize,this.sizeInBytes+=this.level.toString().length,this.sizeInBytes+=this.line.toString().length}return __extends(n,e),n.regex=/^([\s]+at)?(.*?)(\@|\s\(|\s)([^\(\@\n]+):([0-9]+):([0-9]+)(\)?)$/,n.baseSize=58,n}(AI.StackFrame)}(e=t.Telemetry||(t.Telemetry={}))}(e=t.ApplicationInsights||(t.ApplicationInsights={}))}(Microsoft||(Microsoft={}));var AI;!function(t){"use strict";var e=function(t){function e(){this.ver=2,this.metrics=[],this.properties={},t.call(this)}return __extends(e,t),e}(Microsoft.Telemetry.Domain);t.MetricData=e}(AI||(AI={}));var AI;!function(t){"use strict";!function(t){t[t.Measurement=0]="Measurement",t[t.Aggregation=1]="Aggregation"}(t.DataPointType||(t.DataPointType={}));t.DataPointType}(AI||(AI={}));var AI;!function(t){"use strict";var e=function(){function t(){this.kind=0}return t}();t.DataPoint=e}(AI||(AI={}));var Microsoft;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){"use strict";var e=function(t){function e(){t.apply(this,arguments),this.aiDataContract={name:!0,kind:!1,value:!0,count:!1,min:!1,max:!1,stdDev:!1}}return __extends(e,t),e}(AI.DataPoint);t.DataPoint=e}(e=t.Common||(t.Common={}))}(e=t.Telemetry||(t.Telemetry={}))}(e=t.ApplicationInsights||(t.ApplicationInsights={}))}(Microsoft||(Microsoft={}));var Microsoft;!function(t){var e;!function(e){var n;!function(e){"use strict";var n=function(n){function i(i,o,r,a,s){n.call(this),this.aiDataContract={ver:!0,metrics:!0,properties:!1};var c=new t.ApplicationInsights.Telemetry.Common.DataPoint;c.count=r>0?r:void 0,c.max=isNaN(s)||null===s?void 0:s,c.min=isNaN(a)||null===a?void 0:a,c.name=e.Common.DataSanitizer.sanitizeString(i),c.value=o,this.metrics=[c]}return __extends(i,n),i.envelopeType="Microsoft.ApplicationInsights.Metric",i.dataType="MetricData",i}(AI.MetricData);e.Metric=n}(n=e.Telemetry||(e.Telemetry={}))}(e=t.ApplicationInsights||(t.ApplicationInsights={}))}(Microsoft||(Microsoft={}));var AI;!function(t){"use strict";var e=function(t){function e(){this.ver=2,this.properties={},this.measurements={},t.call(this)}return __extends(e,t),e}(t.EventData);t.PageViewData=e}(AI||(AI={}));var Microsoft;!function(t){var e;!function(t){var e;!function(e){"use strict";var n=function(n){function i(i,o,r,a,s){n.call(this),this.aiDataContract={ver:!0,name:!1,url:!1,duration:!1,properties:!1,measurement:!1},this.url=e.Common.DataSanitizer.sanitizeUrl(o),this.name=e.Common.DataSanitizer.sanitizeString(i||t.Util.NotSpecified),isNaN(r)||(this.duration=t.Util.msToTimeSpan(r)),this.properties=t.Telemetry.Common.DataSanitizer.sanitizeProperties(a),this.measurements=t.Telemetry.Common.DataSanitizer.sanitizeMeasurements(s)}return __extends(i,n),i.envelopeType="Microsoft.ApplicationInsights.Pageview",i.dataType="PageviewData",i}(AI.PageViewData);e.PageView=n}(e=t.Telemetry||(t.Telemetry={}))}(e=t.ApplicationInsights||(t.ApplicationInsights={}))}(Microsoft||(Microsoft={}));
var AI;!function(t){"use strict";var e=function(t){function e(){this.ver=2,this.properties={},this.measurements={},t.call(this)}return __extends(e,t),e}(t.PageViewData);t.PageViewPerfData=e}(AI||(AI={}));var Microsoft;!function(t){var e;!function(t){var e;!function(e){"use strict";var n=function(n){function i(o,r,a,s,c){n.call(this),this.aiDataContract={ver:!0,name:!1,url:!1,duration:!1,perfTotal:!1,networkConnect:!1,sentRequest:!1,receivedResponse:!1,domProcessing:!1,properties:!1,measurement:!1},this.isValid=!1;var l=i.getPerformanceTiming();if(l){var u=i.getDuration(l.navigationStart,l.loadEventEnd),p=i.getDuration(l.navigationStart,l.connectEnd),f=i.getDuration(l.requestStart,l.responseStart),g=i.getDuration(l.responseStart,l.responseEnd),h=i.getDuration(l.responseEnd,l.loadEventEnd);0==u?t._InternalLogging.throwInternalNonUserActionable(1,"error calculating page view performance: total='"+u+"', network='"+p+"', request='"+f+"', response='"+g+"', dom='"+h+"'"):u<Math.floor(p)+Math.floor(f)+Math.floor(g)+Math.floor(h)?t._InternalLogging.throwInternalNonUserActionable(1,"client performance math error:"+u+" < "+p+" + "+f+" + "+g+" + "+h):(a=u,this.perfTotal=t.Util.msToTimeSpan(u),this.networkConnect=t.Util.msToTimeSpan(p),this.sentRequest=t.Util.msToTimeSpan(f),this.receivedResponse=t.Util.msToTimeSpan(g),this.domProcessing=t.Util.msToTimeSpan(h),this.isValid=!0)}this.url=e.Common.DataSanitizer.sanitizeUrl(r),this.name=e.Common.DataSanitizer.sanitizeString(o||t.Util.NotSpecified),isNaN(a)||(this.duration=t.Util.msToTimeSpan(a)),this.properties=t.Telemetry.Common.DataSanitizer.sanitizeProperties(s),this.measurements=t.Telemetry.Common.DataSanitizer.sanitizeMeasurements(c)}return __extends(i,n),i.getPerformanceTiming=function(){return"undefined"!=typeof window&&window.performance&&window.performance.timing?window.performance.timing:null},i.isPerformanceTimingSupported=function(){return"undefined"!=typeof window&&window.performance&&window.performance.timing},i.isPerformanceTimingDataReady=function(){var t=window.performance.timing;return t.domainLookupStart>0&&t.navigationStart>0&&t.responseStart>0&&t.requestStart>0&&t.loadEventEnd>0&&t.responseEnd>0&&t.connectEnd>0&&t.domLoading>0},i.getDuration=function(t,e){var n=0;return isNaN(t)||isNaN(e)||(n=Math.max(e-t,0)),n},i.envelopeType="Microsoft.ApplicationInsights.PageviewPerformance",i.dataType="PageviewPerformanceData",i}(AI.PageViewPerfData);e.PageViewPerformance=n}(e=t.Telemetry||(t.Telemetry={}))}(e=t.ApplicationInsights||(t.ApplicationInsights={}))}(Microsoft||(Microsoft={}));var AI;!function(t){"use strict";var e=function(t){function e(){this.ver=2,this.state=0,t.call(this)}return __extends(e,t),e}(Microsoft.Telemetry.Domain);t.SessionStateData=e}(AI||(AI={}));var Microsoft;!function(t){var e;!function(t){var e;!function(t){"use strict";var e=function(t){function e(e){t.call(this),this.aiDataContract={ver:!0,state:!0},this.state=e}return __extends(e,t),e.envelopeType="Microsoft.ApplicationInsights.SessionState",e.dataType="SessionStateData",e}(AI.SessionStateData);t.SessionTelemetry=e}(e=t.Telemetry||(t.Telemetry={}))}(e=t.ApplicationInsights||(t.ApplicationInsights={}))}(Microsoft||(Microsoft={}));var Microsoft;!function(t){var e;!function(t){"use strict";var e=function(){function e(n){var i=this;this._config=n,this._sender=new t.Sender(n),"undefined"!=typeof window&&(this._sessionManager=new t.Context._SessionManager(n,function(t,n){return e._sessionHandler(i,t,n)}),this.application=new t.Context.Application,this.device=new t.Context.Device,this.internal=new t.Context.Internal,this.location=new t.Context.Location,this.user=new t.Context.User(n.accountId()),this.operation=new t.Context.Operation,this.session=new t.Context.Session,this.sample=new t.Context.Sample)}return e.prototype.track=function(e){return e?(e.name===t.Telemetry.PageView.envelopeType&&t._InternalLogging.resetInternalMessageCount(),this.session&&"string"!=typeof this.session.id&&this._sessionManager.update(),this._track(e)):t._InternalLogging.throwInternalUserActionable(0,"cannot call .track() with a null or undefined argument"),e},e.prototype._track=function(t){this.session&&("string"==typeof this.session.id?this._applySessionContext(t,this.session):this._applySessionContext(t,this._sessionManager.automaticSession)),this._applyApplicationContext(t,this.application),this._applyDeviceContext(t,this.device),this._applyInternalContext(t,this.internal),this._applyLocationContext(t,this.location),this._applyOperationContext(t,this.operation),this._applySampleContext(t,this.sample),this._applyUserContext(t,this.user),t.iKey=this._config.instrumentationKey(),this._sender.send(t)},e._sessionHandler=function(e,n,i){var o=new t.Telemetry.SessionTelemetry(n),r=new t.Telemetry.Common.Data(t.Telemetry.SessionTelemetry.dataType,o),a=new t.Telemetry.Common.Envelope(r,t.Telemetry.SessionTelemetry.envelopeType);a.time=t.Util.toISOStringForIE8(new Date(i)),e._track(a)},e.prototype._applyApplicationContext=function(t,e){if(e){var n=new AI.ContextTagKeys;"string"==typeof e.ver&&(t.tags[n.applicationVersion]=e.ver),"string"==typeof e.build&&(t.tags[n.applicationBuild]=e.build)}},e.prototype._applyDeviceContext=function(t,e){var n=new AI.ContextTagKeys;e&&("string"==typeof e.id&&(t.tags[n.deviceId]=e.id),"string"==typeof e.ip&&(t.tags[n.deviceIp]=e.ip),"string"==typeof e.language&&(t.tags[n.deviceLanguage]=e.language),"string"==typeof e.locale&&(t.tags[n.deviceLocale]=e.locale),"string"==typeof e.model&&(t.tags[n.deviceModel]=e.model),"undefined"!=typeof e.network&&(t.tags[n.deviceNetwork]=e.network),"string"==typeof e.oemName&&(t.tags[n.deviceOEMName]=e.oemName),"string"==typeof e.os&&(t.tags[n.deviceOS]=e.os),"string"==typeof e.osversion&&(t.tags[n.deviceOSVersion]=e.osversion),"string"==typeof e.resolution&&(t.tags[n.deviceScreenResolution]=e.resolution),"string"==typeof e.type&&(t.tags[n.deviceType]=e.type))},e.prototype._applyInternalContext=function(t,e){if(e){var n=new AI.ContextTagKeys;"string"==typeof e.agentVersion&&(t.tags[n.internalAgentVersion]=e.agentVersion),"string"==typeof e.sdkVersion&&(t.tags[n.internalSdkVersion]=e.sdkVersion)}},e.prototype._applyLocationContext=function(t,e){if(e){var n=new AI.ContextTagKeys;"string"==typeof e.ip&&(t.tags[n.locationIp]=e.ip)}},e.prototype._applyOperationContext=function(t,e){if(e){var n=new AI.ContextTagKeys;"string"==typeof e.id&&(t.tags[n.operationId]=e.id),"string"==typeof e.name&&(t.tags[n.operationName]=e.name),"string"==typeof e.parentId&&(t.tags[n.operationParentId]=e.parentId),"string"==typeof e.rootId&&(t.tags[n.operationRootId]=e.rootId),"string"==typeof e.syntheticSource&&(t.tags[n.operationSyntheticSource]=e.syntheticSource)}},e.prototype._applySampleContext=function(t,e){if(e){var n=new AI.ContextTagKeys;"string"==typeof e.sampleRate&&(t.tags[n.sampleRate]=e.sampleRate)}},e.prototype._applySessionContext=function(t,e){if(e){var n=new AI.ContextTagKeys;"string"==typeof e.id&&(t.tags[n.sessionId]=e.id),"undefined"!=typeof e.isFirst&&(t.tags[n.sessionIsFirst]=e.isFirst)}},e.prototype._applyUserContext=function(t,e){if(e){var n=new AI.ContextTagKeys;"string"==typeof e.accountAcquisitionDate&&(t.tags[n.userAccountAcquisitionDate]=e.accountAcquisitionDate),"string"==typeof e.accountId&&(t.tags[n.userAccountId]=e.accountId),"string"==typeof e.agent&&(t.tags[n.userAgent]=e.agent),"string"==typeof e.id&&(t.tags[n.userId]=e.id),"string"==typeof e.authenticatedId&&(t.tags[n.userAuthUserId]=e.authenticatedId),"string"==typeof e.storeRegion&&(t.tags[n.userStoreRegion]=e.storeRegion)}},e}();t.TelemetryContext=e}(e=t.ApplicationInsights||(t.ApplicationInsights={}))}(Microsoft||(Microsoft={}));var Microsoft;!function(t){var e;!function(e){"use strict";var n=function(t){function e(){t.call(this)}return __extends(e,t),e}(t.Telemetry.Base);e.Data=n}(e=t.Telemetry||(t.Telemetry={}))}(Microsoft||(Microsoft={}));var Microsoft;!function(t){var e;!function(e){var n;!function(e){var n;!function(e){"use strict";var n=function(t){function e(e,n){t.call(this),this.aiDataContract={baseType:!0,baseData:!0},this.baseType=e,this.baseData=n}return __extends(e,t),e}(t.Telemetry.Data);e.Data=n}(n=e.Common||(e.Common={}))}(n=e.Telemetry||(e.Telemetry={}))}(e=t.ApplicationInsights||(t.ApplicationInsights={}))}(Microsoft||(Microsoft={}));var Microsoft;!function(t){var e;!function(e){"use strict";e.Version="0.16.20150806.0";var n=function(){function n(t){var o=this;this.config=t||{};var r=n.defaultConfig;if(void 0!==r)for(var a in r)void 0===this.config[a]&&(this.config[a]=r[a]);e._InternalLogging.verboseLogging=function(){return o.config.verboseLogging},e._InternalLogging.enableDebugExceptions=function(){return o.config.enableDebug};var s={instrumentationKey:function(){return o.config.instrumentationKey},accountId:function(){return o.config.accountId},appUserId:function(){return o.config.appUserId},sessionRenewalMs:function(){return o.config.sessionRenewalMs},sessionExpirationMs:function(){return o.config.sessionExpirationMs},endpointUrl:function(){return o.config.endpointUrl},emitLineDelimitedJson:function(){return o.config.emitLineDelimitedJson},maxBatchSizeInBytes:function(){return o.config.maxBatchSizeInBytes},maxBatchInterval:function(){return o.config.maxBatchInterval},disableTelemetry:function(){return o.config.disableTelemetry}};this.context=new e.TelemetryContext(s),this._eventTracking=new i("trackEvent"),this._eventTracking.action=function(t,n,i,r,a){var s=new e.Telemetry.Event(t,r,a),c=new e.Telemetry.Common.Data(e.Telemetry.Event.dataType,s),l=new e.Telemetry.Common.Envelope(c,e.Telemetry.Event.envelopeType);o.context.track(l)},this._pageTracking=new i("trackPageView"),this._pageTracking.action=function(t,e,n,i,r){o.sendPageViewInternal(t,e,n,i,r)}}return n.prototype.sendPageViewInternal=function(t,n,i,o,r){var a=new e.Telemetry.PageView(t,n,i,o,r),s=new e.Telemetry.Common.Data(e.Telemetry.PageView.dataType,a),c=new e.Telemetry.Common.Envelope(s,e.Telemetry.PageView.envelopeType);this.context.track(c)},n.prototype.startTrackPage=function(t){try{"string"!=typeof t&&(t=window.document&&window.document.title||""),this._pageTracking.start(t)}catch(n){e._InternalLogging.throwInternalNonUserActionable(0,"startTrackPage failed, page view may not be collected: "+e.Util.dump(n))}},n.prototype.stopTrackPage=function(t,n,i,o){try{"string"!=typeof t&&(t=window.document&&window.document.title||""),"string"!=typeof n&&(n=window.location&&window.location.href||""),this._pageTracking.stop(t,n,i,o)}catch(r){e._InternalLogging.throwInternalNonUserActionable(0,"stopTrackPage failed, page view will not be collected: "+e.Util.dump(r))}},n.prototype.trackPageView=function(t,n,i,o){try{"string"!=typeof t&&(t=window.document&&window.document.title||""),"string"!=typeof n&&(n=window.location&&window.location.href||""),this.trackPageViewInternal(t,n,i,o)}catch(r){e._InternalLogging.throwInternalNonUserActionable(0,"trackPageView failed, page view will not be collected: "+e.Util.dump(r))}},n.prototype.trackPageViewInternal=function(t,n,i,o){var r=this,a=0;if(e.Telemetry.PageViewPerformance.isPerformanceTimingSupported()){var s=window.performance.timing.navigationStart;a=e.Telemetry.PageViewPerformance.getDuration(s,+new Date);var c=setInterval(function(){try{a=e.Telemetry.PageViewPerformance.getDuration(s,+new Date);var l=e.Telemetry.PageViewPerformance.isPerformanceTimingDataReady(),u=a>6e4;if(u||l){clearInterval(c),a=e.Telemetry.PageViewPerformance.getDuration(s,+new Date);var p=new e.Telemetry.PageViewPerformance(t,n,a,i,o);if(r.sendPageViewInternal(t,n,p.isValid?+p.perfTotal:a,i,o),p.isValid){var f=new e.Telemetry.Common.Data(e.Telemetry.PageViewPerformance.dataType,p),g=new e.Telemetry.Common.Envelope(f,e.Telemetry.PageViewPerformance.envelopeType);r.context.track(g)}r.context._sender.triggerSend()}}catch(h){e._InternalLogging.throwInternalNonUserActionable(0,"trackPageView failed on page load calculation: "+e.Util.dump(h))}},100)}},n.prototype.startTrackEvent=function(t){try{this._eventTracking.start(t)}catch(n){e._InternalLogging.throwInternalNonUserActionable(0,"startTrackEvent failed, event will not be collected: "+e.Util.dump(n))}},n.prototype.stopTrackEvent=function(t,n,i){try{this._eventTracking.stop(t,void 0,n,i)}catch(o){e._InternalLogging.throwInternalNonUserActionable(0,"stopTrackEvent failed, event will not be collected: "+e.Util.dump(o))}},n.prototype.trackEvent=function(t,n,i){try{var o=new e.Telemetry.Event(t,n,i),r=new e.Telemetry.Common.Data(e.Telemetry.Event.dataType,o),a=new e.Telemetry.Common.Envelope(r,e.Telemetry.Event.envelopeType);this.context.track(a)}catch(s){e._InternalLogging.throwInternalNonUserActionable(0,"trackEvent failed, event will not be collected: "+e.Util.dump(s))}},n.prototype.trackException=function(t,n,i,o){try{if(!e.Util.isError(t))try{throw new Error(t)}catch(r){t=r}var a=new e.Telemetry.Exception(t,n,i,o),s=new e.Telemetry.Common.Data(e.Telemetry.Exception.dataType,a),c=new e.Telemetry.Common.Envelope(s,e.Telemetry.Exception.envelopeType);this.context.track(c)}catch(l){e._InternalLogging.throwInternalNonUserActionable(0,"trackException failed, exception will not be collected: "+e.Util.dump(l))}},n.prototype.trackMetric=function(t,n,i,o,r){try{var a=new e.Telemetry.Metric(t,n,i,o,r),s=new e.Telemetry.Common.Data(e.Telemetry.Metric.dataType,a),c=new e.Telemetry.Common.Envelope(s,e.Telemetry.Metric.envelopeType);this.context.track(c)}catch(l){e._InternalLogging.throwInternalNonUserActionable(0,"trackMetric failed, metric will not be collected: "+e.Util.dump(l))}},n.prototype.trackTrace=function(t,n){try{var i=new e.Telemetry.Trace(t,n),o=new e.Telemetry.Common.Data(e.Telemetry.Trace.dataType,i),r=new e.Telemetry.Common.Envelope(o,e.Telemetry.Trace.envelopeType);this.context.track(r)}catch(a){e._InternalLogging.warnToConsole("trackTrace failed, trace will not be collected: "+e.Util.dump(a))}},n.prototype.flush=function(){try{this.context._sender.triggerSend()}catch(t){e._InternalLogging.throwInternalNonUserActionable(0,"flush failed, telemetry will not be collected: "+e.Util.dump(t))}},n.prototype.setAuthenticatedUserContext=function(t,n){try{this.context.user.setAuthenticatedUserContext(t,n)}catch(i){e._InternalLogging.throwInternalUserActionable(1,"Setting auth user context failed. "+e.Util.dump(i))}},n.prototype.clearAuthenticatedUserContext=function(){try{this.context.user.clearAuthenticatedUserContext()}catch(t){e._InternalLogging.throwInternalUserActionable(1,"Clearing auth user context failed. "+e.Util.dump(t))}},n.prototype.SendCORSException=function(n){var i=t.ApplicationInsights.Telemetry.Exception.CreateSimpleException("Script error.","Error","unknown","unknown","The browser’s same-origin policy prevents us from getting the details of this exception.The exception occurred in a script loaded from an origin different than the web page.For cross- domain error reporting you can use crossorigin attribute together with appropriate CORS HTTP headers.For more information please see http://www.w3.org/TR/cors/.",0,null);i.properties=n;var o=new e.Telemetry.Common.Data(e.Telemetry.Exception.dataType,i),r=new e.Telemetry.Common.Envelope(o,e.Telemetry.Exception.envelopeType);this.context.track(r)},n.prototype._onerror=function(t,n,i,o,r){try{var a={url:n?n:document.URL};if(e.Util.isCrossOriginError(t,n,i,o,r))this.SendCORSException(a);else{if(!e.Util.isError(r)){var s="window.onerror@"+a.url+":"+i+":"+(o||0);r=new Error(t),r.stack=s}this.trackException(r,null,a)}}catch(c){var l=r?r.name+", "+r.message:"null",u=e.Util.dump(c);e._InternalLogging.throwInternalNonUserActionable(0,"_onerror threw "+u+" while logging error, error will not be collected: "+l)}},n}();e.AppInsights=n;var i=function(){function t(t){this._name=t,this._events={}}return t.prototype.start=function(t){"undefined"!=typeof this._events[t]&&e._InternalLogging.throwInternalUserActionable(1,"start"+this._name+" was called more than once for this event without calling stop"+this._name+". key is '"+t+"'"),this._events[t]=+new Date},t.prototype.stop=function(t,n,i,o){var r=this._events[t];if(isNaN(r))e._InternalLogging.throwInternalUserActionable(1,"stop"+this._name+" was called without a corresponding start"+this._name+" . Event name is '"+t+"'");else{var a=+new Date,s=e.Telemetry.PageViewPerformance.getDuration(r,a);this.action(t,n,s,i,o)}delete this._events[t],this._events[t]=void 0},t}()}(e=t.ApplicationInsights||(t.ApplicationInsights={}))}(Microsoft||(Microsoft={}));var AI;!function(t){"use strict";var e=function(t){function e(){this.ver=2,this.properties={},this.measurements={},t.call(this)}return __extends(e,t),e}(t.PageViewData);t.AjaxCallData=e}(AI||(AI={}));var AI;!function(t){"use strict";!function(t){t[t.SQL=0]="SQL",t[t.Http=1]="Http",t[t.Other=2]="Other"}(t.DependencyKind||(t.DependencyKind={}));t.DependencyKind}(AI||(AI={}));var AI;!function(t){"use strict";!function(t){t[t.Undefined=0]="Undefined",t[t.Aic=1]="Aic",t[t.Apmc=2]="Apmc"}(t.DependencySourceType||(t.DependencySourceType={}));t.DependencySourceType}(AI||(AI={}));var AI;!function(t){"use strict";var e=function(t){function e(){this.ver=2,this.kind=0,this.dependencyKind=2,this.success=!0,this.dependencySource=0,this.properties={},t.call(this)}return __extends(e,t),e}(Microsoft.Telemetry.Domain);t.RemoteDependencyData=e}(AI||(AI={}));var AI;!function(t){"use strict";var e=function(t){function e(){this.ver=2,this.properties={},this.measurements={},t.call(this)}return __extends(e,t),e}(Microsoft.Telemetry.Domain);t.RequestData=e}(AI||(AI={}));var Microsoft;!function(t){var e;!function(e){"use strict";var n=function(){function n(e){e.queue=e.queue||[];var i=e.config||{};if(i&&!i.instrumentationKey)if(i=e,i.iKey)t.ApplicationInsights.Version="0.10.0.0",i.instrumentationKey=i.iKey;else{if(!i.applicationInsightsId)throw new Error("Cannot load Application Insights SDK, no instrumentationKey was provided.");t.ApplicationInsights.Version="0.7.2.0",i.instrumentationKey=i.applicationInsightsId}i=n.getDefaultConfig(i),this.snippet=e,this.config=i}return n.prototype.loadAppInsights=function(){var e=new t.ApplicationInsights.AppInsights(this.config);if(this.config.iKey){var n=e.trackPageView;e.trackPageView=function(t,i,o){n.apply(e,[null,t,i,o])}}var i="logPageView";"function"==typeof this.snippet[i]&&(e[i]=function(t,n,i){e.trackPageView(null,t,n,i)});var o="logEvent";return"function"==typeof this.snippet[o]&&(e[o]=function(t,n,i){e.trackEvent(t,n,i)}),e},n.prototype.emptyQueue=function(){try{if(t.ApplicationInsights.Util.isArray(this.snippet.queue)){for(var e=this.snippet.queue.length,n=0;e>n;n++){var i=this.snippet.queue[n];i()}this.snippet.queue=void 0,delete this.snippet.queue}}catch(o){var r="Failed to send queued telemetry";o&&"function"==typeof o.toString&&(r+=": "+o.toString()),t.ApplicationInsights._InternalLogging.throwInternalNonUserActionable(1,r)}},n.prototype.pollInteralLogs=function(e){return setInterval(function(){for(var n=t.ApplicationInsights._InternalLogging.queue,i=n.length,o=0;i>o;o++)e.trackTrace(n[o]);n.length=0},this.config.diagnosticLogInterval)},n.prototype.addHousekeepingBeforeUnload=function(e){if("onbeforeunload"in window){var n=function(){e.context._sender.triggerSend(),e.context._sessionManager.backup()};t.ApplicationInsights.Util.addEventHandler("beforeunload",n)||t.ApplicationInsights._InternalLogging.throwInternalNonUserActionable(0,"Could not add handler for beforeunload")}},n.getDefaultConfig=function(t){return t||(t={}),t.endpointUrl=t.endpointUrl||"//dc.services.visualstudio.com/v2/track",t.accountId=t.accountId,t.appUserId=t.appUserId,t.sessionRenewalMs=18e5,t.sessionExpirationMs=864e5,t.maxBatchSizeInBytes=t.maxBatchSizeInBytes>0?t.maxBatchSizeInBytes:1e6,t.maxBatchInterval=isNaN(t.maxBatchInterval)?15e3:t.maxBatchInterval,t.enableDebug=e.Util.stringToBoolOrDefault(t.enableDebug),t.autoCollectErrors=void 0!==t.autoCollectErrors&&null!==t.autoCollectErrors?e.Util.stringToBoolOrDefault(t.autoCollectErrors):!0,t.disableTelemetry=e.Util.stringToBoolOrDefault(t.disableTelemetry),t.verboseLogging=e.Util.stringToBoolOrDefault(t.verboseLogging),t.emitLineDelimitedJson=e.Util.stringToBoolOrDefault(t.emitLineDelimitedJson),t.diagnosticLogInterval=t.diagnosticLogInterval||1e4,t},n}();e.Initialization=n}(e=t.ApplicationInsights||(t.ApplicationInsights={}))}(Microsoft||(Microsoft={})),initializeAppInsights();